<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUIDE | GetMeBooked</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- 1. CORE VISUAL IDENTITY --- */
        :root {
            --brand-indigo: #6366f1;
            --brand-indigo-dark: #4f46e5;
            --surface-ground: #f8fafc;
            --surface-card: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--surface-ground);
            color: var(--text-main);
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- 2. COMPONENTS --- */
        .glass-panel {
            background: var(--surface-card);
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            border-radius: 1.5rem; /* Softer rounded corners */
            transition: all 0.3s ease;
        }

        .h-mega-sm {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            letter-spacing: -0.04em;
            line-height: 1;
            color: var(--text-main);
        }

        .mini-label {
            font-size: 11px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--brand-indigo);
            display: block;
            margin-bottom: 0.5rem;
        }

        /* --- 3. BUTTONS --- */
        .btn-primary {
            background: var(--brand-indigo);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 700;
            font-size: 0.875rem;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.2);
        }
        .btn-primary:hover { 
            background: var(--brand-indigo-dark); 
            transform: translateY(-1px);
            box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.3);
        }

        .btn-secondary {
            background: white;
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 700;
            font-size: 0.875rem;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .btn-secondary:hover { 
            border-color: var(--brand-indigo); 
            color: var(--brand-indigo); 
            background: #f8fafc;
        }

        /* --- 4. PROGRESS BAR --- */
        .progress-container {
            height: 6px;
            background: #f1f5f9;
            border-radius: 9999px;
            width: 100%;
            margin-top: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--brand-indigo);
            border-radius: 9999px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* --- 5. ANIMATIONS --- */
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-soft { animation: fadeUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
    </style>
</head>
<body class="bg-slate-50">

    <header class="pt-8 md:pt-12 pb-6">
        <div class="max-w-5xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-center md:text-left">
                <div class="flex items-center justify-center md:justify-start gap-2 mb-2">
                    <span class="px-3 py-1 bg-white border border-slate-100 text-indigo-600 text-[10px] font-black uppercase tracking-wider rounded-full shadow-sm">System Manual</span>
                </div>
                <h1 class="h-mega-sm tracking-tighter">GET<span class="text-indigo-500">ME</span>BOOKED</h1>
            </div>
            <button
                onclick="window.location.href='{% if user.is_authenticated %}{% if user.business %}{% url 'owner_dashboard' user.business.id %}{% elif user.staff_profile %}{% url 'owner_dashboard' user.staff_profile.business.id %}{% else %}/{% endif %}{% else %}/{% endif %}'"
                class="btn-secondary text-xs !py-2 !px-4">
                <i class="fa-solid fa-xmark"></i> Exit Guide
            </button>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 md:px-6 pb-24 flex-1 flex items-center">

        <div id="guideContent" class="animate-soft w-full">
            <div class="glass-panel p-8 md:p-12 relative overflow-hidden bg-white">
                
                <div class="absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-slate-50 rounded-full opacity-50 blur-3xl pointer-events-none"></div>

                <div class="relative z-10">
                    <div class="flex items-center gap-3 mb-8">
                        <span class="px-3 py-1.5 bg-slate-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-lg" id="moduleTag">Module 01</span>
                        <span class="text-xs font-bold uppercase tracking-widest text-slate-400" id="moduleCategory">Onboarding</span>
                    </div>

                    <div class="flex flex-col-reverse md:grid md:grid-cols-12 gap-10 md:gap-16 items-center">
                        <div class="md:col-span-7">
                            <h2 class="text-3xl md:text-5xl font-black text-slate-900 tracking-tight mb-6 leading-[0.95]" id="title">
                                Thank <span class="text-indigo-500">You!</span>
                            </h2>
                            <p class="text-slate-500 text-base md:text-lg leading-relaxed font-medium mb-10" id="description">
                                Thank you for choosing <b>GetMeBooked</b>! We are here to make your life easier. This system is designed to handle your calendar, payments, and staff so you can focus on your customers.
                            </p>

                            <div class="flex gap-4">
                                <button onclick="changeStep(-1)" class="btn-secondary w-14 h-14 !rounded-full !p-0 flex items-center justify-center shrink-0">
                                    <i class="fa-solid fa-arrow-left"></i>
                                </button>
                                <button onclick="changeStep(1)" class="btn-primary px-8 flex-1 md:flex-none md:w-48 shadow-lg shadow-indigo-200">
                                    Next Step <i class="fa-solid fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="md:col-span-5 flex items-center justify-center w-full">
                            <div class="w-full aspect-square max-w-[280px] bg-slate-50 rounded-[2rem] border border-slate-100 flex items-center justify-center shadow-inner relative group">
                                <div class="absolute inset-0 bg-white rounded-[2rem] opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                <i class="fa-solid fa-heart text-6xl md:text-7xl text-rose-500 relative z-10 drop-shadow-sm transition-transform duration-500 group-hover:scale-110" id="mainIcon"></i>
                            </div>
                        </div>
                    </div>

                    <div class="mt-12">
                        <div class="flex justify-between items-end mb-2">
                            <span class="text-[10px] font-black text-slate-300 uppercase tracking-widest">Progress</span>
                            <span class="text-[10px] font-black text-indigo-600 uppercase tracking-widest" id="stepCounter">Step 1 of 9</span>
                        </div>
                        <div class="progress-container">
                            <div id="progressFill" class="progress-fill" style="width: 11%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="fixed bottom-6 left-0 right-0 text-center pointer-events-none">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full border border-slate-200 shadow-sm pointer-events-auto">
                <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
                <a href="mailto:getmebookedinfo@gmail.co.za" class="text-[10px] font-bold uppercase tracking-widest text-slate-500 hover:text-indigo-600 transition-colors">Support</a>
            </div>
        </div>
    </main>

    <script>
        const steps = [
            {
                tag: "Module 01",
                cat: "Introduction",
                title: "Thank <span class='text-indigo-500'>You!</span>",
                desc: "Thank you for choosing <b>GetMeBooked</b>! We are here to make your life easier. This system is designed to handle your calendar, payments, and staff so you can focus on your customers.",
                icon: "fa-heart",
                color: "text-rose-500"
            },
            {
                tag: "Module 02",
                cat: "The Toolkit",
                title: "Booking <span class='text-indigo-500'>Tools</span>",
                desc: "The moment you register, the system gives you four powerful tools: A <b>Booking Link</b> for social media, a <b>Booking Form</b>, a <b>Website Modal</b>, and a dedicated <b>Client Booking Site</b>.",
                icon: "fa-window-restore",
                color: "text-blue-500"
            },
            {
                tag: "Module 03",
                cat: "Configuration",
                title: "Setting Your <span class='text-indigo-500'>Rules</span>",
                desc: "In your dashboard, you decide when you are open. Set your <b>Operating Hours</b> and <b>Block Days</b> (like holidays). You also add your <b>Services</b> with specific prices and durations.",
                icon: "fa-clock",
                color: "text-sky-500"
            },
            {
                tag: "Module 04",
                cat: "Payments",
                title: "Getting <span class='text-indigo-500'>Paid</span>",
                desc: "You decide your own deposit policy! Simply enter your <b>PayFast Merchant details</b> to take payments. If you leave it blank, customers can book for free.",
                icon: "fa-vault",
                color: "text-emerald-500"
            },
            {
                tag: "Module 05",
                cat: "Automation",
                title: "Auto <span class='text-indigo-500'>Acceptance</span>",
                desc: "If you use PayFast, once a customer pays their deposit, the system <b>automatically accepts</b> the booking. No work for you! The money goes to you, and the customer gets instant confirmation.",
                icon: "fa-check-double",
                color: "text-teal-500"
            },
            {
                tag: "Module 06",
                cat: "Workflow",
                title: "Manual <span class='text-indigo-500'>Control</span>",
                desc: "If you don't require deposits, bookings are marked as 'Pending'. You can <b>manually confirm</b> them via the dashboard or the notification email we send you.",
                icon: "fa-hand-pointer",
                color: "text-violet-500"
            },
            {
                tag: "Module 07",
                cat: "Team Management",
                title: "Staff <span class='text-indigo-500'>Members</span>",
                desc: "Give your team your business's <b>Join Code</b>. Once they link up, they can see their own appointments, and customers can choose to book with specific staff members.",
                icon: "fa-users",
                color: "text-indigo-500"
            },
            {
                tag: "Module 08",
                cat: "Communication",
                title: "Smart <span class='text-indigo-500'>Reminders</span>",
                desc: "We send <b>Email Reminders</b> to both you and your customer before the appointment. This eliminates no-shows and ensures a professional client experience.",
                icon: "fa-bell",
                color: "text-amber-500"
            },
            {
                tag: "Module 09",
                cat: "Growth",
                title: "Earn Free <span class='text-indigo-500'>Months</span>",
                desc: "We love referrals! For every business that signs up using your link, you get <b>one month totally free</b>. Refer 10 businesses, get 10 months free. There is no limit!",
                icon: "fa-gift",
                color: "text-rose-500"
            }
        ];

        let currentStep = 0;

        function changeStep(dir) {
            currentStep = (currentStep + dir + steps.length) % steps.length;
            updateUI();
        }

        function updateUI() {
            const step = steps[currentStep];
            const content = document.getElementById('guideContent');

            // Trigger Reflow for Animation
            content.classList.remove('animate-soft');
            void content.offsetWidth;
            content.classList.add('animate-soft');

            document.getElementById('moduleTag').innerText = step.tag;
            document.getElementById('moduleCategory').innerText = step.cat;
            document.getElementById('title').innerHTML = step.title;
            document.getElementById('description').innerHTML = step.desc;

            // Icon Update
            document.getElementById('mainIcon').className = `fa-solid ${step.icon} text-6xl md:text-7xl ${step.color} relative z-10 drop-shadow-sm transition-transform duration-500 group-hover:scale-110`;

            const progress = ((currentStep + 1) / steps.length) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('stepCounter').innerText = `Step ${currentStep + 1} of ${steps.length}`;
        }
    </script>
</body>
</html>